# μ‹¤μµ 4: Requests & Limits - μµμ† λ³΄μ¥κ³Ό μµλ€ ν•λ„ μ„¤μ •ν•κΈ°

### π― ν•™μµ λ©ν‘
1. Podμ— μμ› μ ν•(`limits`)μ΄ μ—†μ„ λ• λ°μƒν•  μ μλ” μ„ν—μ„±μ„ μ΄ν•΄ν•λ‹¤.
2. Podκ°€ μ‚¬μ©ν•  λ©”λ¨λ¦¬μ μµλ€ μƒν•μ„ μ„ `limits`λ΅ μ„¤μ •ν•κ³ , μ΄λ¥Ό μ΄κ³Όν–μ„ λ• μΏ λ²„λ„¤ν‹°μ¤κ°€ μ–΄λ–»κ² Podλ¥Ό κ°•μ  μΆ…λ£(`OOMKilled`)μ‹μΌ ν΄λ¬μ¤ν„° μ „μ²΄λ¥Ό λ³΄νΈν•λ”μ§€ ν™•μΈν•λ‹¤.
3. `kubectl top pod` λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•μ—¬ Podμ μ‹¤μ‹κ°„ μμ› μ‚¬μ©λ‰μ„ λ¨λ‹ν„°λ§ν•λ” λ°©λ²•μ„ μµνλ‹¤.

### π“ μ‹¤μµ μ‹λ‚λ¦¬μ¤
1.  **νΈμ¶ μ‹ λ©”λ¨λ¦¬λ¥Ό μ μ ν•λ”** κ°„λ‹¨ν• μ›Ή μ„λ²„λ¥Ό λ§λ“ λ‹¤.
2.  **`metrics-server` μ• λ“μ¨**μ„ ν™μ„±ν™”ν•μ—¬ Podμ μμ› μ‚¬μ©λ‰μ„ μΈ΅μ •ν•  μ μλ„λ΅ μ¤€λΉ„ν•λ‹¤.
3.  **μμ› μ ν•μ΄ μ—†λ” Pod**λ¥Ό λ°°ν¬ν•κ³ , λ©”λ¨λ¦¬λ¥Ό ν¬κ² ν• λ‹Ήν•΄λ„ μ£½μ§€ μ•λ” κ²ƒμ„ ν™•μΈν•λ‹¤. (μ‹¤μ  μ΄μ ν™κ²½μ—μ„λ” Node μ „μ²΄λ¥Ό μ„ν—μ— λΉ λ¨λ¦΄ μ μμμ„ μ„¤λ…)
4.  **`memory limit`μ΄ 128Miλ΅ λ‚®κ² μ„¤μ •λ Pod**λ¥Ό λ°°ν¬ν•λ‹¤.
    -   μ ν•λ³΄λ‹¤ μ μ€ μ–‘μ λ©”λ¨λ¦¬(50Mi)λ¥Ό ν• λ‹Ήν•λ” μ”μ²­μ„ λ³΄λ‚΄κ³ , μ •μƒμ μΌλ΅ μ²λ¦¬λλ” κ²ƒμ„ ν™•μΈν•λ‹¤.
    -   μ ν•λ³΄λ‹¤ λ§μ€ μ–‘μ λ©”λ¨λ¦¬(200Mi)λ¥Ό ν• λ‹Ήν•λ” μ”μ²­μ„ λ³΄λ‚΄μ, Podκ°€ `OOMKilled` μƒνƒκ°€ λλ©° μ¬μ‹μ‘λλ” κ²ƒμ„ κ΄€μ°°ν•λ‹¤.

### β… ν™•μΈ ν¬μΈνΈ
- `kubectl top pod` λ…λ Ήμ–΄λ΅ Podμ `CPU`μ™€ `MEMORY` μ‚¬μ©λ‰ ν™•μΈ.
- λ©”λ¨λ¦¬ μ ν•μ„ μ΄κ³Όν•λ” μ”μ²­μ„ λ³΄λƒμ„ λ• `curl`μ΄ μ‹¤ν¨ν•λ” ν„μƒ.
- `kubectl get pod -w`λ΅ `STATUS`κ°€ `OOMKilled`λ΅ λ°”λ€κ³  `RESTARTS`κ°€ μ¦κ°€ν•λ” λ¨μµ.
- `kubectl describe pod`λ΅ `Reason: OOMKilled` μ΄λ²¤νΈλ¥Ό μ§μ ‘ ν™•μΈ.